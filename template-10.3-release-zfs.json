{
  "variables": {
    "iso_checksum": "8137966d9b62eb4bf597b047a8a43ae9f9a06f23ab7c812f229d32cbfab5bb0cc27089dcfb5d233e50a18620b75606e31ff01bb3084517746664b3b3c46c9d04",
    "iso_checksum_type": "sha512",
    "iso_version": "10.3"
  },
  "builders": [
    {
      "boot_command": [
        "I<wait>",
        "<enter><wait>",
        "freebsd-vagrant",
        "<enter><wait>",
        "g<spacebar><wait>",
        "l<spacebar><wait>",
        "p<spacebar><wait>",
        "<enter><wait>",
        "<down><down><down><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "<spacebar><wait>",
        "<enter><wait>",
        "<left><wait>",
        "Y<wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10>",
        "vagrant<enter><wait>",
        "vagrant<enter><wait>",
        "<enter><wait>",
        "Y<wait>",
        "Y<wait10>",
        "Y<wait>",
        "Y<wait10><wait10>",
        "<enter><wait>",
        "<enter><wait>",
        "a<enter><wait>",
        "Y<wait>",
        "n<spacebar><wait>",
        "p<spacebar><wait>",
        "<enter><wait>",
        "Y<wait>",
        "vagrant<enter><wait>",
        "Vagrant User<enter><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "wheel",
        "<enter><wait>",
        "<enter><wait>",
        "tcsh",
        "<enter><wait>",
        "<enter><wait>",
        "0700",
        "<enter><wait>",
        "Y",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "vagrant<enter><wait>",
        "vagrant<enter><wait>",
        "N",
        "<enter><wait>",
        "Y",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "<enter><wait10><wait10>",
        "<left>",
        "Y<wait>",
        "sed -i -e 's/#PermitRootLogin no/PermitRootLogin yes/' /etc/ssh/sshd_config<enter><wait>",
        "echo 'autoboot_delay=\"-1\"' >> /boot/loader.conf<enter><wait>",
        "sysrc sendmail_enable=\"NONE\"<enter><wait>",
        "chsh -s sh root<enter><wait>",
        "exit<enter><wait>",
        "R<wait10><wait10><wait10>"
      ],
      "boot_wait": "45s",
      "disk_size": 20480,
      "guest_os_type": "freebsd-64",
      "headless": "true",
      "iso_checksum": "{{user `iso_checksum`}}",
      "iso_checksum_type": "{{user `iso_checksum_type`}}",
      "iso_url": "http://ftp.freebsd.org/pub/FreeBSD/releases/ISO-IMAGES/{{user `iso_version`}}/FreeBSD-{{user `iso_version`}}-RELEASE-amd64-disc1.iso",
      "shutdown_command": "poweroff; poweroff",
      "ssh_password": "vagrant",
      "ssh_username": "root",
      "ssh_wait_timeout": "30s",
      "type": "vmware-iso"
    },
    {
      "boot_command": [
        "I<wait>",
        "<enter><wait>",
        "freebsd-vagrant",
        "<enter><wait>",
        "g<spacebar><wait>",
        "l<spacebar><wait>",
        "p<spacebar><wait>",
        "<enter><wait>",
        "<down><down><down><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "<spacebar><wait>",
        "<enter><wait>",
        "<left><wait>",
        "Y<wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10>",
        "vagrant<enter><wait>",
        "vagrant<enter><wait>",
        "<enter><wait>",
        "Y<wait>",
        "Y<wait10>",
        "Y<wait>",
        "Y<wait10><wait10>",
        "<enter><wait>",
        "<enter><wait>",
        "a<enter><wait>",
        "Y<wait>",
        "n<spacebar><wait>",
        "p<spacebar><wait>",
        "<enter><wait>",
        "Y<wait>",
        "vagrant<enter><wait>",
        "Vagrant User<enter><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "wheel",
        "<enter><wait>",
        "<enter><wait>",
        "tcsh",
        "<enter><wait>",
        "<enter><wait>",
        "0700",
        "<enter><wait>",
        "Y",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "vagrant<enter><wait>",
        "vagrant<enter><wait>",
        "N",
        "<enter><wait>",
        "Y",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "<enter><wait10><wait10>",
        "<left>",
        "Y<wait>",
        "sed -i -e 's/#PermitRootLogin no/PermitRootLogin yes/' /etc/ssh/sshd_config<enter><wait>",
        "echo 'autoboot_delay=\"-1\"' >> /boot/loader.conf<enter><wait>",
        "sysrc sendmail_enable=\"NONE\"<enter><wait>",
        "chsh -s sh root<enter><wait>",
        "exit<enter><wait>",
        "R<wait10><wait10><wait10>"
      ],
      "boot_wait": "45s",
      "disk_size": 20480,
      "guest_os_type": "FreeBSD_64",
      "headless": "true",
      "iso_checksum": "{{user `iso_checksum`}}",
      "iso_checksum_type": "{{user `iso_checksum_type`}}",
      "iso_url": "http://ftp.freebsd.org/pub/FreeBSD/releases/ISO-IMAGES/{{user `iso_version`}}/FreeBSD-{{user `iso_version`}}-RELEASE-amd64-disc1.iso",
      "shutdown_command": "poweroff; poweroff",
      "ssh_password": "vagrant",
      "ssh_username": "root",
      "ssh_wait_timeout": "30s",
      "type": "virtualbox-iso"
    }
  ],
  "provisioners": [
    {
      "scripts": [
        "scripts/zfs-setup.sh",
        "scripts/postinstall.sh"
      ],
      "type": "shell"
    }
  ],
  "post-processors": [
    {
      "output": "FreeBSD-{{user `iso_version`}}-RELEASE-zfs-{{.Provider}}.box",
      "type": "vagrant",
      "override": {
        "vmware": {
          "vagrantfile_template": "./Vagrantfile.vmware"
        },
        "virtualbox": {
          "vagrantfile_template": "./Vagrantfile.virtualbox"
        }
      }
    }
  ]
}
