{
  "variables": {
    "iso_daterev": "20160617-r301975",
    "buildtag": "ALPHA4",
    "iso_checksum": "077dc64a1707ff7cae9d82a79cf5f3ac12ad1a4fe950326d4562ba9dfb18deebd44a255a1dcba78607533789070dce0a536d0c141ac48a5e83792941748aa17b",
    "iso_version": "11.0",
    "iso_checksum_type": "sha512"
  },
  "builders": [
    {
      "boot_command": [
        "I<wait>",
        "<enter><wait>",
        "freebsd-vagrant",
        "<enter><wait>",
        "k<spacebar>",
        "<down><down><spacebar>",
        "<down><spacebar>",
        "<enter><wait>",
        "<down><down><down>",
        "<enter><wait>",
        "S<enter>",
        "<bs><bs>1g",
        "<enter><wait>",
        "><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "<spacebar>",
        "<enter><wait>",
        "<left><wait>",
        "Y<wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10>",
        "vagrant<enter><wait>",
        "vagrant<enter><wait>",
        "<enter><wait>",
        "Y<wait>",
        "Y<wait10>",
        "Y<wait>",
        "Y<wait10><wait10>",
        "<enter><wait>",
        "a<enter><wait>",
        "Y<wait>",
        "n<spacebar><wait>",
        "p<spacebar><wait>",
        "<enter><wait>",
        "Y<wait>",
        "vagrant<enter><wait>",
        "Vagrant User<enter><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "wheel",
        "<enter><wait>",
        "<enter><wait>",
        "tcsh",
        "<enter><wait>",
        "<enter><wait>",
        "0700",
        "<enter><wait>",
        "Y",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "vagrant<enter><wait>",
        "vagrant<enter><wait>",
        "N",
        "<enter><wait>",
        "Y",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "<enter><wait10><wait10><wait10>",
        "<left>",
        "Y<wait>",
        "sed -i -e 's/#PermitRootLogin no/PermitRootLogin yes/' /etc/ssh/sshd_config<enter><wait>",
        "echo 'autoboot_delay=\"-1\"' >> /boot/loader.conf<enter><wait>",
        "chsh -s sh root<enter><wait>",
        "sysrc sendmail_enable=NONE<enter><wait>",
        "exit<enter><wait>",
        "R<wait10><wait10><wait10>"
      ],
      "boot_wait": "45s",
      "disk_size": 20480,
      "headless": "false",
      "type": "vmware-iso",
      "guest_os_type": "freebsd-64",
      "iso_url": "http://ftp.freebsd.org/pub/FreeBSD/snapshots/ISO-IMAGES/{{user `iso_version`}}/FreeBSD-{{user `iso_version`}}-{{user `buildtag`}}-amd64-{{user `iso_daterev`}}-disc1.iso",
      "iso_checksum": "{{user `iso_checksum`}}",
      "iso_checksum_type": "{{user `iso_checksum_type`}}",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_wait_timeout": "30s",
      "shutdown_command": "poweroff; poweroff"
    },
    {
      "boot_command": [
        "I<wait>",
        "<enter><wait>",
        "freebsd-vagrant",
        "<enter><wait>",
        "k<spacebar>",
        "<down><down><spacebar>",
        "<down><spacebar>",
        "<enter><wait>",
        "<down><down><down>",
        "<enter><wait>",
        "S<enter>",
        "<bs><bs>1g",
        "<enter><wait>",
        "><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "<spacebar>",
        "<enter><wait>",
        "<left><wait>",
        "Y<wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10>",
        "vagrant<enter><wait>",
        "vagrant<enter><wait>",
        "<enter><wait>",
        "Y<wait>",
        "Y<wait10>",
        "Y<wait>",
        "Y<wait10><wait10>",
        "<enter><wait>",
        "a<enter><wait>",
        "Y<wait>",
        "n<spacebar><wait>",
        "p<spacebar><wait>",
        "<enter><wait>",
        "Y<wait>",
        "vagrant<enter><wait>",
        "Vagrant User<enter><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "wheel",
        "<enter><wait>",
        "<enter><wait>",
        "tcsh",
        "<enter><wait>",
        "<enter><wait>",
        "0700",
        "<enter><wait>",
        "Y",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "vagrant<enter><wait>",
        "vagrant<enter><wait>",
        "N",
        "<enter><wait>",
        "Y",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "<enter><wait10><wait10><wait10>",
        "<left>",
        "Y<wait>",
        "sed -i -e 's/#PermitRootLogin no/PermitRootLogin yes/' /etc/ssh/sshd_config<enter><wait>",
        "echo 'autoboot_delay=\"-1\"' >> /boot/loader.conf<enter><wait>",
        "chsh -s sh root<enter><wait>",
        "sysrc sendmail_enable=NONE<enter><wait>",
        "exit<enter><wait>",
        "R<wait10><wait10><wait10>"
      ],
      "boot_wait": "45s",
      "disk_size": 20480,
      "format": "ova",
      "type": "virtualbox-iso",
      "headless": "false",
      "guest_os_type": "FreeBSD_64",
      "iso_url": "http://ftp.freebsd.org/pub/FreeBSD/snapshots/ISO-IMAGES/{{user `iso_version`}}/FreeBSD-{{user `iso_version`}}-{{user `buildtag`}}-amd64-{{user `iso_daterev`}}-disc1.iso",
      "iso_checksum": "{{user `iso_checksum`}}",
      "iso_checksum_type": "{{user `iso_checksum_type`}}",
      "ssh_username": "root",
      "ssh_password": "vagrant",
      "ssh_wait_timeout": "30s",
      "shutdown_command": "poweroff; poweroff"
    }
  ],
  "provisioners": [
    {
      "scripts": [
        "scripts/zfs-setup.sh",
        "scripts/postinstall.sh"
      ],
      "type": "shell"
    }
  ],
  "post-processors": [
    {
      "output": "FreeBSD-{{user `iso_version`}}-{{user `buildtag`}}-zfs-{{.Provider}}.box",
      "type": "vagrant",
      "override": {
        "vmware": {
          "vagrantfile_template": "./Vagrantfile.vmware"
        },
        "virtualbox": {
          "vagrantfile_template": "./Vagrantfile.virtualbox"
        }
      }
    }
  ]
}
