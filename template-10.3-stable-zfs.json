{
  "variables": {
    "iso_checksum": "6a12fb4f29a939844bd6d108d9df0216f65446be5838e3de70627b7cdc6aed1fc2cb366cfb645ff6411e88517ea76d23ff44a7cdd9275cf9e504dd8e19a0c96f",
    "iso_checksum_type": "sha512",
    "iso_daterev": "20160518-r300092",
    "iso_version": "10.3"
  },
  "builders": [
    {
      "type": "vmware-iso",
      "boot_command": [
        "I<wait>",
        "<enter><wait>",
        "freebsd-vagrant",
        "<enter><wait>",
        "g<spacebar><wait>",
        "l<spacebar><wait>",
        "<enter><wait>",
        "<down><down><down><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "<spacebar><wait>",
        "<enter><wait>",
        "<left><wait>",
        "Y<wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10>",
        "vagrant<enter><wait>",
        "vagrant<enter><wait>",
        "<enter><wait>",
        "Y<wait>",
        "Y<wait10>",
        "Y<wait>",
        "Y<wait10><wait10>",
        "<enter><wait>",
        "<enter><wait>",
        "a<enter><wait>",
        "Y<wait>",
        "n<spacebar><wait>",
        "p<spacebar><wait>",
        "<enter><wait>",
        "Y<wait>",
        "vagrant<enter><wait>",
        "Vagrant User<enter><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "wheel",
        "<enter><wait>",
        "<enter><wait>",
        "tcsh",
        "<enter><wait>",
        "<enter><wait>",
        "0700",
        "<enter><wait>",
        "Y",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "vagrant<enter><wait>",
        "vagrant<enter><wait>",
        "N",
        "<enter><wait>",
        "Y",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "<enter><wait10><wait10>",
        "<left>",
        "Y<wait>",
        "sed -i -e 's/#PermitRootLogin no/PermitRootLogin yes/' /etc/ssh/sshd_config<enter><wait>",
        "echo 'autoboot_delay=\"-1\"' >> /boot/loader.conf<enter><wait>",
        "sysrc sendmail_enable=\"NONE\"<enter><wait>",
        "chsh -s sh root<enter><wait>",
        "exit<enter><wait>",
        "R<wait10><wait10><wait10>"
      ],
      "boot_wait": "45s",
      "disk_size": 20480,
      "guest_os_type": "freebsd-64",
      "headless": "true",
      "iso_checksum": "{{user `iso_checksum`}}",
      "iso_checksum_type": "{{user `iso_checksum_type`}}",
      "iso_url": "http://ftp.freebsd.org/pub/FreeBSD/snapshots/ISO-IMAGES/{{user `iso_version`}}/FreeBSD-{{user `iso_version`}}-STABLE-amd64-{{user `iso_daterev`}}-disc1.iso",
      "shutdown_command": "poweroff; poweroff",
      "ssh_password": "vagrant",
      "ssh_username": "root",
      "ssh_wait_timeout": "45s"
    },
    {
      "type": "virtualbox-iso",
      "boot_command": [
        "I<wait>",
        "<enter><wait>",
        "freebsd-vagrant",
        "<enter><wait>",
        "g<spacebar><wait>",
        "l<spacebar><wait>",
        "<enter><wait>",
        "<down><down><down><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "<spacebar><wait>",
        "<enter><wait>",
        "<left><wait>",
        "Y<wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10>",
        "vagrant<enter><wait>",
        "vagrant<enter><wait>",
        "<enter><wait>",
        "Y<wait>",
        "Y<wait10>",
        "Y<wait>",
        "Y<wait10><wait10>",
        "<enter><wait>",
        "<enter><wait>",
        "a<enter><wait>",
        "Y<wait>",
        "n<spacebar><wait>",
        "p<spacebar><wait>",
        "<enter><wait>",
        "Y<wait>",
        "vagrant<enter><wait>",
        "Vagrant User<enter><wait>",
        "<enter><wait>",
        "<enter><wait>",
        "wheel",
        "<enter><wait>",
        "<enter><wait>",
        "tcsh",
        "<enter><wait>",
        "<enter><wait>",
        "0700",
        "<enter><wait>",
        "Y",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "vagrant<enter><wait>",
        "vagrant<enter><wait>",
        "N",
        "<enter><wait>",
        "Y",
        "<enter><wait>",
        "N",
        "<enter><wait>",
        "<enter><wait10><wait10>",
        "<left>",
        "Y<wait>",
        "sed -i -e 's/#PermitRootLogin no/PermitRootLogin yes/' /etc/ssh/sshd_config<enter><wait>",
        "echo 'autoboot_delay=\"-1\"' >> /boot/loader.conf<enter><wait>",
        "sysrc sendmail_enable=\"NONE\"<enter><wait>",
        "chsh -s sh root<enter><wait>",
        "exit<enter><wait>",
        "R<wait10><wait10><wait10>"
      ],
      "boot_wait": "45s",
      "disk_size": 20480,
      "guest_os_type": "FreeBSD_64",
      "headless": "true",
      "iso_checksum": "{{user `iso_checksum`}}",
      "iso_checksum_type": "{{user `iso_checksum_type`}}",
      "iso_url": "http://ftp.freebsd.org/pub/FreeBSD/snapshots/ISO-IMAGES/{{user `iso_version`}}/FreeBSD-{{user `iso_version`}}-STABLE-amd64-{{user `iso_daterev`}}-disc1.iso",
      "shutdown_command": "poweroff; poweroff",
      "ssh_password": "vagrant",
      "ssh_username": "root",
      "ssh_wait_timeout": "45s"
    }
  ],
  "provisioners": [
    {
      "scripts": [
        "scripts/postinstall.sh"
      ],
      "type": "shell"
    }
  ],
  "post-processors": [
    {
      "output": "FreeBSD-{{user `iso_version`}}-STABLE-zfs-{{user `iso_daterev`}}-{{.Provider}}.box",
      "type": "vagrant",
      "override": {
        "vmware": {
          "vagrantfile_template": "./Vagrantfile.vmware"
        },
        "virtualbox": {
          "vagrantfile_template": "./Vagrantfile.virtualbox"
        }
      }
    }
  ]
}
